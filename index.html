<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style2.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
	
		<div class="navbar">
			<h1>News Today</h1>
			<div class="country1">
				<select name="" id="country" onchange="disply()" >
					<option value="bbc-news">BCC</option>
					<option value="ae">United Arab Emirates</option>
					<option value="ar">Argentina</option>
					<option value="at">Austria</option>
					<option value="au">Australia</option>
					<option value="be">Belgium</option>
					<option value="bg">Bulgaria</option>
					<option value="br">Brazil</option>
					<option value="ca">Canada</option>
					<option value="ch">Switzerland</option>
					<option value="cn">China</option>
					<option value="co">Colombia</option>
					<option value="cu">Cuba</option>
					<option value="cz">Czech Republic</option>
					<option value="de">Germany</option>
					<option value="eg">Egypt</option>
					<option value="fr">France</option>
					<option value="gb">United Kingdom</option>
					<option value="gr">Greece</option>
					<option value="hk">Hong Kong</option>
					<option value="hu">Hungary</option>
					<option value="id">Indonesia</option>
					<option value="ie">Ireland</option>
					<option value="il">Israel</option>
					<option value="in">India</option>
					<option value="it">Italy</option>
					<option value="jp">Japan</option>
					<option value="kr">South Korea</option>
					<option value="lt">Lithuania</option>
					<option value="lv">Latvia</option>
					<option value="ma">Morocco</option>
					<option value="mx">Mexico</option>
					<option value="my">Malaysia</option>
					<option value="ng">Nigeria</option>
					<option value="nl">Netherlands</option>
					<option value="nz">New Zealand</option>
					<option value="ph">Philippines</option>
					<option value="pl">Poland</option>
					<option value="pt">Portugal</option>
					<option value="ro">Romania</option>
					<option value="rs">Serbia</option>
					<option value="ru">Russia</option>
					<option value="sa">Saudi Arabia</option>
					<option value="se">Sweden</option>
					<option value="sg">Singapore</option>
					<option value="si">Slovenia</option>
					<option value="sk">Slovakia</option>
					<option value="th">Thailand</option>
					<option value="tr">Turkey</option>
					<option value="tw">Taiwan</option>
					<option value="ua">Ukraine</option>
					<option value="us">United States</option>
					<option value="ve">Venezuela</option>
					<option value="za">South Africa</option>
				</select>
			</div>
			<ul id="dis">
				<button onclick="general()" class="activate">General</button>
				<button onclick="health()">Health</button>
				<button onclick="entertainment()">Entertainment</button>
				<button onclick="sports()">Sports</button>
				<button onclick="technology()">Technology</button>
			</ul>
			<div id="search">
				<input type="text" placeholder="Enter topic" id="searchval">
				<button onclick="search()"><i class="fa fa-search"></i></button>
			</div>
		</div>
		<div id="movetext">
			<marquee behavior="" direction="left" id="movingtext"></marquee>
		</div>
		<div class="intro">
		<h1>INTRO TO APP</h1>
	<p>Welcome to our cutting-edge news app, your go-to source for staying informed and up-to-date on the latest developments from around the world. With our user-friendly interface and comprehensive coverage, you'll never miss a beat when it comes to current events, breaking news, and in-depth stories.
		Personalized News Feed: Tailored to your interests and preferences, our app provides you with a curated news feed that delivers the stories that matter most to you. Whether you're into politics, technology, science, entertainment, or sports, you can customize your feed to see the topics that align with your passions.

		Breaking News Alerts: Stay ahead of the curve with real-time notifications about breaking news and significant events. Our app ensures that you're informed about critical developments as they unfold, helping you stay connected to the world around you.
		
		Comprehensive Coverage: We bring together news from reputable sources worldwide, offering a well-rounded perspective on global events. Say goodbye to information silos â€“ our app presents you with diverse viewpoints and reliable reporting so you can form a balanced understanding of any situation.
	</p>
</div>
<div class="container">
	
	<div id="sidebar">
		<button id="click" onclick="clicked()"><i class="fa fa-bars"></i></button>
		<ul>
			<button onclick="general()">General</button>
			<button onclick="health()">Health</button>
			<button onclick="entertainment()">Entertainment</button>
			<button onclick="sports()">Sports</button>
			<button onclick="technology()">Technology</button>
			<button onclick="business()">Business</button>
			<button onclick="science()">Science</button>
		</ul>
	</div>
	<div id="title">
		
	</div>
	
	</div>
	<script>
		
		var countryval=document.getElementById('country')
		countryval.addEventListener('click',function(){
			if(country.value=='bbc-news')
			{
				mainurl=`https://newsapi.org/v2/top-headlines?sources=${country.value}&apiKey=ebe28c46b83740c9818278183fdfe803`
				getNewsmain()
			}
		})
		function disply()
		{
			
			if(country.value=="bbc-news")
			{
				
				document.getElementById('dis').style.display="none";


			}
			else{
				document.getElementById('dis').style.display="flex";
			}
			if(country.value=="bbc-news")
			{
				document.getElementById('sidebar').style.display="none"
			}
			else{
				document.getElementById('sidebar').style.display="flex"
			}
			
			
		}
		

		
		
		
		
		
		mainurl=`https://newsapi.org/v2/top-headlines?sources=${country.value}&apiKey=ebe28c46b83740c9818278183fdfe803`


		function search()
		{
			document.getElementById('title').innerHTML=""
			const searchkey=document.getElementById('searchval')
			searchcont=`https://newsapi.org/v2/everything?q=${searchval.value}&apiKey=ebe28c46b83740c9818278183fdfe803`
			getsearch()
		}
	
	function general()
	{
		document.getElementById('title').innerHTML=""
		document.getElementById('dis').style.display="flex"
		
			
	urlgen=`https://newsapi.org/v2/top-headlines?country=${country.value}&category=general&apiKey=ebe28c46b83740c9818278183fdfe803`
	getNewsgeneral()
	}
	function sports()
	{
		document.getElementById('title').innerHTML=""
		 url= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=sports&apiKey=ebe28c46b83740c9818278183fdfe803`
		getNews()

	}
	function health()
	{
		document.getElementById('title').innerHTML=""
		url1= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=health&apiKey=ebe28c46b83740c9818278183fdfe803`
		getNews1()

	}
	function entertainment()
	{
		document.getElementById('title').innerHTML=""
		url2= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=entertainment&apiKey=ebe28c46b83740c9818278183fdfe803`
		getNews2()

	}
	function technology()
		{
			document.getElementById('title').innerHTML=""
			urltech= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=technology&apiKey=ebe28c46b83740c9818278183fdfe803`
		
				gettechnology()
		}
		function business()
	{
		document.getElementById('title').innerHTML=""
		 urlbussi= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=business&apiKey=ebe28c46b83740c9818278183fdfe803`
		getbusiness()

	}
	function science()
	{
		document.getElementById('title').innerHTML=""
		 urlsci= `https://newsapi.org/v2/top-headlines?country=${country.value}&category=science&apiKey=ebe28c46b83740c9818278183fdfe803`
		getscience()

	}
	
	async function getNewsmain() {
		try{

			document.getElementById('title').innerHTML=""
    const response = await fetch(mainurl);
    const data = await response.json();
	document.getElementById('title').innerHTML=""
	if(country.value=='bbc-news')
		{
			document.getElementById('dis').style.display="none"
		}
			
    for(var i=0;i<(data.articles).length;i++)
	
	{
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}
		
		 
		
	}

	const araay=[];
	for(var j=0;j<(data.articles).length;j++)
	{
		araay[j]=data.articles[j].title;	
	}
	
	for(var j=0;j<araay.length;j++)
	{
		document.getElementById('movingtext').innerHTML+=`<span>--------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>`+araay[Math.floor(Math.random()*araay.length)]
	}
	
	
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${data.articles[i].url}">Read more</a></button></div></div>`
		
		 }

}catch(error)
		{
			if(country.value=='bbc-news')
		{
			document.getElementById('dis').style.display="none"
		}
			var err=document.createElement('div')
	err.setAttribute('id','error')
	document.getElementById('title').appendChild(err)
	document.getElementById('error').innerHTML="Error"
		}
	}



getNewsmain()
	async function getNews4() {
    const response = await fetch(url4);
    const data = await response.json();
	
	
	document.getElementById('title').innerHTML=""
    for(var i=0;i<(data.articles).length;i++)
	{
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}		
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }

}


getNews4()

async function getNewsgeneral() {
	try{
    const response = await fetch(urlgen);
    const data = await response.json();
	
	
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}
			
	}
	if(flag==0)
		{
			
		}
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }


		}catch(error)
		{
			error1()
		}
}
function error1()
{
	var err=document.createElement('div')
	err.setAttribute('id','error')
	document.getElementById('title').appendChild(err)
	document.getElementById('error').innerHTML="Error"
}

getNewsgeneral()
		
async function getNews() {
	try{

	

    const response = await fetch(url);
    const data = await response.json();
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}	
	
	}
	if(flag==0)
	{
		error1()
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
			if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		}
		 }

}catch(error)
{
	error1()
}

}




getNews()


			
async function getNews1() {
	try{
    const response = await fetch(url1);
    const data = await response.json();
	
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
		flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}		
	}
	if(flag==0)
	{
		error1()
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }
	}catch(error)
{
	error1()
}

}


getNews1()
		
async function getNews2() {
	try{

	
    const response = await fetch(url2);
    const data = await response.json();
	
	
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
		flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}
	}
	if(flag==0)
	{
		error1()
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }

}catch(error)
{
	error1()
}
}
getNews2()

		
async function getsearch() {
	try{
		document.getElementById('title').innerHTML=""
    const response = await fetch(searchcont);
    const data = await response.json();
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}
		
	}
	if(flag==0)
		{
			error1()
		}
		
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }

}catch(error)
{
	error1()
}
}
getsearch()
async function gettechnology() {
	try{

	
    const response = await fetch(urltech);
    const data = await response.json();
	
	
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}		
	}
	if(flag==0)
	{
		error1()
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }

}catch(error)
{
	error1()
}
}


gettechnology()


async function getbusiness() {
	
	try{
	
    const response = await fetch(urlbussi);
    const data = await response.json();
	
	
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}		
	}
	if(flag==0)
	{
		error1()
	}
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }


}catch(error)
{
	error1()
}
}


getbusiness()


async function getscience() {
	try{

	
	
    const response = await fetch(urlsci);
    const data = await response.json();
	document.getElementById('title').innerHTML=""
	var flag=0;
    for(var i=0;i<(data.articles).length;i++)
	{
		
		if(data.articles[i].title&&data.articles[i].description&&data.articles[i].url&&data.articles[i].urlToImage!=null)
		{
			flag=1;
		title(data.articles[i].title,data.articles[i].description,data.articles[i].url)
		}		
	}
	if(flag==0)
	{
		error1()
	}
	
	
	
	{

	}
	function title(title,description,url)
		 {
		
		
		document.getElementById("title").innerHTML+=`<div class="title1"><div class="image"><center><img src="${data.articles[i].urlToImage}" alt="" height="200px" width="200px"></center></div><div class="title"><p>${data.articles[i].title}</p></div><div class="description1">${data.articles[i].description}</div><div class="url"><button id=readb><a href="${url}">Read more</a></button></div></div>`
		
		 }



}catch(error)
{
	error1()
}
}

getscience()

/*function clicked()
{
	document.getElementById('sidebar').classList.toggle('active')
}*/

// JavaScript to handle the menu bar interactivity
const menuItems = document.querySelectorAll('ul button');

menuItems.forEach((menuItem) => {
    menuItem.addEventListener('click', (event) => {
        // Remove 'active' class from all menu items
        menuItems.forEach((item) => {
            item.classList.remove('activate');
        });

        // Add 'active' class to the clicked menu item
        event.target.classList.add('activate');
    });
});


	</script>
</body>
</html>